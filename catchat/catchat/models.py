from catchat.extensions import  db
from datetime import datetime
from flask_login import UserMixin
from passlib.apps import custom_app_context as pwd_context

k='/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAH0AfQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+iiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKA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c1qPxJ1a6UpaRxWqHuBlq46ON5WCxIzsegUZrc0/wbreo4KWphjP8cvFUqdOO5XJCO5k3eoXt+5a8u5Zif7zcflUdvbT3coitoXlc/woua9I0v4bWkO2TUrlp2H8EfC111np1jp0YSzto4h6gc/nUyrxjsP2iWiPPNH+HN3cFJdUl8iPr5S/eNegadpFhpEPlWVusY7t1Y/jVwt703dXPOrKRm23uKTTCeKQtTC1ZXBIUtTGNITTGakWkKxqMmkZqYzUi0gY89ajJpCa09I0pr2XzJQRCv8A48aulSnVmoQWoSmoR5pE+h6X57C5mX5B90Hua6jpTURY0CoAFHQCnV9XhcPGhTUF8zyKtR1JczCiiiugzCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKy9W0lb5DJHhZgOD61qUVnVpQqwcJq6ZUJuD5kefyRvDIY5FIYHkGjNdfqelx38e5cLMOjVyU8EltKY5UKuPWvl8Xg54eXddz1qNeNVeYoapA1Vwxp4auVM0aLIanBqgDU8NTJaJwwp4IqANTg1BFicNShqhDU4NTQmibIocJIu10V1PZhmo91Lup3FymZd+FtEvTmWwjBPdBtNY1z8NtJk5guJ4T78iuu3Uu6rVSS2YarqedT/DGfJ+z6hGfQOuKoP8ONaQna9u47YY/wCFeq7hRuxVrESHzyPI2+H+vg4EMRHrvpP+EA1//nhF/wB9167uFG4U/rEg55HkyfDzXX+8sCfVz/hVuH4Z6kxHnXcCDvjJr07cKMj1oeIkHPI4S3+GVsv/AB838j+uxa17XwJoNry0Dzt/00PFdJupu6odWb6iu3uyG2sLKyAFtaxRAf3VGaslvU1HupC1Zt33FYeWphamlqaWpDSHlqaW4phamlqRVh26mE0haoy2aCkhzNUbNSFqYWpFpAxppNITmtbStGe7YS3AKxDoO7VdGjOtPlgtRTnGnG8iPStJe+kEjgrCD19a62KJIYwkahVAwAKWNFjQIigKOABTq+owmEhh42W/VnlVq0qru9gooorrMQooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKqX1hDfQlHUbuzdxVuipnCM48sldDTcXdHDX1hNYSbZF+U/dYdDVfdXezQR3EZjkUMp9a5nUdCktt0tvl4/7vcV89jMtlT96lqvxR6VHFKXuz0ZlBqerVDypwRg0oavLOqxYDU4NUAanBuKdyWicNTg1QBqeGpisTBqduqANS7qCXEn3Uu4VCGpd1AuUlyaXNRbvelDUXFYkzRuqPd7UbqAsSZozUe6jdRcLD92OtBaoi3vRuoHYfupC1RlqTdQPlHlqaWphamlqB8o8tTS1M3U0tzSuVYcWphY0hNMLUrlJClqVEeVwiKWY9AKtWWmXN83yrtTuxrqbHTLexT5Fy/dj1ruwuAqV3d6R/rYwq4iFPRasz9M0ERETXWGbsvYVugADAGBRRX0dGhCjHlgjzJ1JTd5BRRRWxAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAZt9o1vefMBsk9RXN3el3VmcshZM8MK7akKhhggEe9cGJy+lX12fc6KWJnT03R57u5pwNdZeaDbXOWjHlv6jpWFc6Ld22SF8xfVa8Ovl9ek72uvI76eIpz62ZSDU4NURDKcMCD6GgNXHsb2Jw1LuqANS5ouTYnDUoeoQ1Lup3CxPuo3VDvo30XFYm3+9G6od9G73ouFibcKN1Q76N9FwsS76TfUW6jNFx2JC1NL1GWpM0XCw/dzSE+9M3U0mlcpIeWpuTUkFtPcttijZvetuz8OE4a6fj+6tb0cLWrfBHTuZzqwp/EzDhgluHCRIWPtXQaf4eVMSXR3N/dHQVs29rDbIEiQKBU1e5hsrp0/eqav8Dgq4uUtI6IaiLGoVFAA7CnUUV6hyBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAVbjT7a6GJIlJ9QKybnw0p5t5SPZq6CiuerhKNX44msK04fCzi59GvYOsW8eq1SaN4yQyMuPUV6DUbwRSffjVvqK86pk8H8ErHTHGy+0jgA1Lmuyl0Wxl6xYPscVSk8NQnmOVl9q455VXjtZm0cZTe+hze6gGtt/DMoH7uYH6ioG8PXg6bW/GsJYHER3iaLEUn1MvIozWgdAvv7g/Oj+wL7/nmPzqPqtf+Rl+2p/zGfmjdWkvh69J5Cj8amTw3ck/NIgFUsFiHtBkuvSX2jH3Uma318MH+K4/IVaj8N2qn52d/YmtY5ZiZbqxDxdJHKk+9SJbzSkBInbPoK7KLSbKIALCpx681bWNEGFQAewrqp5PL7cvuMpY5fZRyVtoF3NgviMe/Wte18PW0JDSkyMPXpWxRXoUcuoUtbXfmc08TUn1GRxRxDCIFHsKfRRXaklsc4UUUUwCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//Z'

class User(UserMixin,db.Model):
    id = db.Column(db.Integer,primary_key=True)
    username = db.Column(db.String,unique=True)
    password_hash = db.Column(db.String)
    photo = db.Column(db.String,default=k)
    telephone = db.Column(db.String,unique=True)
    email_hash = db.Column(db.String,unique=True)
    country = db.Column(db.String,default=None)
    timestamp = db.Column(db.DateTime,default=datetime.utcnow,index=True)
    messages = db.relationship('Messager',back_populates='author',cascade='all')
    rooms = db.relationship('Room',back_populates='author',cascade='all')
    nickname=db.Column(db.String)
    enter_room = db.Column(db.Integer,default=0)

    def hash_password(self,password):
        self.password_hash = pwd_context.encrypt(password)

    def hash_email(self,email):
        self.email_hash = pwd_context.encrypt(email)

    def verify_password(self,password):
        return pwd_context.verify(password,self.password_hash)

    def verify_email(self,email):
        return pwd_context.verify(email,self.email_hash)

class Tourist(db.Model,UserMixin):
    id = db.Column(db.Integer,primary_key=True)
    username = db.Column(db.String,unique=True)

class Room(db.Model):
    id = db.Column(db.Integer,primary_key=True)
    roomname = db.Column(db.String,unique=True)
    room_url = db.Column(db.String)
    photo = db.Column(db.String)
    topic = db.Column(db.String)
    description = db.Column(db.Text)
    author_id = db.Column(db.Integer,db.ForeignKey('user.id'))
    author = db.relationship('User',back_populates='rooms')
    messagers = db.relationship('Messager',back_populates='room',cascade='all')

    def url_room(self):
        self.room_url = 'http://114.55.98.156:3000/room/id=' + str(self.id)

class Messager(db.Model):
    id = db.Column(db.Integer,primary_key=True)
    body = db.Column(db.Text)
    timestamp = db.Column(db.DateTime,default=datetime.utcnow,index=True)
    auth_id = db.Column(db.Integer,db.ForeignKey('user.id'))
    author = db.relationship('User',back_populates='messages')
    room_id = db.Column(db.Integer,db.ForeignKey('room.id'))
    room = db.relationship('Room',back_populates='messagers')


